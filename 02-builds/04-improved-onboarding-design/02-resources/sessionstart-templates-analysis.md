# SessionStart Templates Analysis

> **Generated by**: Explore subagent a1a6e79
> **Date**: 2026-01-24
> **Purpose**: Complete documentation of all SessionStart hook templates used for onboarding

---

## Executive Summary

The SessionStart hook uses **7 templates** organized by MECE (Mutually Exclusive, Collectively Exhaustive) priority to provide context-appropriate onboarding experiences. Templates range from first-time user guidance to deep-flow continuation states.

---

## Template Overview

| Template | File | Priority | Triggered When |
|----------|------|----------|----------------|
| startup_first_run.md | .claude/hooks/templates/ | 0 (highest) | No goals + no builds |
| startup_onboarding_incomplete.md | .claude/hooks/templates/ | 1 | Has pending onboarding |
| startup_active_builds.md | .claude/hooks/templates/ | 2 | Has active work |
| startup_fresh_workspace.md | .claude/hooks/templates/ | 3 | Goals done, no builds yet |
| startup_system_ready.md | .claude/hooks/templates/ | 4 (fallback) | All complete, ready to work |
| compact_planning.md | .claude/hooks/templates/ | N/A | Resuming build in planning |
| compact_execution.md | .claude/hooks/templates/ | N/A | Resuming build in execution |

---

## 1. startup_first_run.md

**When Triggered:**
- First session ever (fresh installation)
- State: No goals configured + no builds exist
- Priority: 0 (highest - auto-triggers first)

**Menu Display:**
```
    â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
    â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•
    â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â•šâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
    â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•   â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘
    â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
    â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•

         Welcome to Nexus!
```

**CTAs & Recommendations:**
1. `setup memory` - Tell me about yourself (8 min)
2. `create folders` - Organize your workspace (5 min)
3. `list skills` - See what I can do

**CTA Message:**
"Let's start with setup memory - I'll learn about your role and goals. Say 'yes' or '1' to begin!"

**Routing:** Waits for user confirmation before loading `setup-memory` skill

---

## 2. startup_onboarding_incomplete.md

**When Triggered:**
- Onboarding partially complete
- State: Has `pending_onboarding` items
- Priority: 1

**Dynamic Menu Display:**
```
    â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
    [Nexus Banner]

ğŸ§  MEMORY
   {memory_status}  [Dynamic: "âœ“ Configured" or "Not configured â–¸ setup memory (8 min)"]

ğŸ“‹ CURRENT WORK
   {work_status}   [Active builds or "Nothing yet"]

ğŸ”§ SKILLS
   50+ available

ğŸ“ FOLDERS
   {folders_status} [Dynamic: "âœ“ Organized" or "Not organized â–¸ create folders (5 min)"]

ğŸ”Œ INTEGRATIONS
   {integrations_status}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ GETTING STARTED
   {getting_started} [Dynamically generated based on incomplete items]
```

**CTAs Based on State:**
- **If goals not done:** "Let's start with setup memory - I'll learn about you. Say 'yes' or '1' to begin!"
- **If goals done but folders not done:** "Let's set up your folders - only takes 5 minutes. Say 'yes' or '1' to begin!"

**User Guidance:** Contextual - only suggests what's incomplete

---

## 3. startup_active_builds.md

**When Triggered:**
- Active builds exist (work in progress)
- State: `active_builds` list is not empty
- Priority: 2

**Menu Display:**
- Highlights "CURRENT WORK â­"
- Shows builds with names, status, progress %
- Example: "â€¢ Build 30: XML Context Restructure | 45% complete"

**CTA Message:**
"Let's continue working on [BUILD_NAME]. Say 'yes' or '1' to continue, or tell me what else you'd like to do!"

**Routing Options:**
- `"yes"` / `"1"` / `"continue"` â†’ Load `execute-build` skill
- New work request â†’ Check if related to existing build first

**User Guidance:** Prioritizes resuming active work

---

## 4. startup_fresh_workspace.md

**When Triggered:**
- Fresh workspace (goals configured, no work yet)
- State: `goals_personalized=true` AND `total_builds=0`
- Priority: 3

**CTA Message:**
```
You're all set up! Nexus has two modes:

**BUILD** - Create something new (projects, research, content)
**EXECUTE** - Run skills for quick tasks

Here's what you can do:

1. 'I want to build something' - Start your first build (Recommended)
2. 'add integration' - Connect external tools
3. 'list skills' - See all available skills

What would you like to do? Say '1' to start building!
```

**Routing:**
- `"1"` / `"build"` â†’ `plan-build` skill
- `"2"` / `"integration"` â†’ `add-integration` skill
- `"3"` / `"skills"` â†’ `list-skills` skill

**User Guidance:** Educates about two working modes, emphasizes first build

---

## 5. startup_system_ready.md

**When Triggered:**
- System completely ready (onboarding done, no active builds)
- State: All complete, zero active builds
- Priority: 4 (fallback)

**CTA Message:**
"What would you like to work on today?"

**Routing:**
- New work â†’ `plan-build` skill
- Skill trigger â†’ Load matching skill
- Exploration â†’ Explain capabilities

**User Guidance:** Power-user mode - assumes system mastery

---

## 6. compact_planning.md

**When Triggered:**
- Resuming active build in PLANNING phase
- Used during session continuations after auto-summary
- Only shown in COMPACT mode (not startup)

**Template Content:**
```
================================================================================
MANDATORY: BUILD PLANNING CONTINUATION
================================================================================

Build: {build_id}
Phase: PLANNING (Phase 1 incomplete)

STEP 1 - MANDATORY: Initialize TodoWrite
- Read 04-steps.md Phase 1 tasks
- Create todo list with unchecked planning tasks
- Mark first unchecked task as in_progress

STEP 2 - MANDATORY: Follow plan-build skill
- Complete planning documents: overview â†’ discovery â†’ plan â†’ steps
- Use mental models for key decisions
- Pause for user confirmation at each document

STEP 3 - MANDATORY: Update progress
- Mark tasks [x] in 04-steps.md
- Update resume-context.md with current state

================================================================================
Current task: {current_task}
DO NOT start implementation until ALL Phase 1 tasks are [x] complete.
DO NOT display menu. START on current planning task immediately.
================================================================================
```

**CTAs & Instructions:**
- MANDATORY: No menu display
- MANDATORY: Initialize TodoWrite immediately
- Jump directly to current planning task
- Load `plan-build` skill

**User Guidance:** Continuous workflow - no interruptions, task-focused

---

## 7. compact_execution.md

**When Triggered:**
- Resuming active build in EXECUTION phase
- Used during session continuations after auto-summary
- Only shown in COMPACT mode

**Template Content:**
```
================================================================================
MANDATORY: BUILD EXECUTION CONTINUATION
================================================================================

Build: {build_id}
Phase: EXECUTION (Phase 1 complete, implementing)

STEP 1 - MANDATORY: Initialize TodoWrite
- Read 04-steps.md for current execution phase
- Find first unchecked [ ] task
- Create todo list with remaining tasks
- Mark current task as in_progress

STEP 2 - MANDATORY: Follow execute-build skill
- Work on ONE task at a time
- Mark [x] complete immediately when done
- Move to next unchecked task

STEP 3 - MANDATORY: Track progress
- Update 04-steps.md checkboxes
- Update resume-context.md with progress

================================================================================
Current task: {current_task}
DO NOT display menu. START on this task immediately.
================================================================================
```

**CTAs & Instructions:**
- MANDATORY: No menu display
- MANDATORY: Initialize TodoWrite immediately
- Jump directly to current execution task
- Load `execute-build` skill

**User Guidance:** Deep flow state - no interruptions

---

## Template Selection Logic (MECE Priority)

**Function:** `build_next_action_instruction()` in `loaders.py`

```
Priority 0: startup_first_run
  â†“ (if no_goals AND no_builds)

Priority 1: startup_onboarding_incomplete
  â†“ (if pending_onboarding items exist)

Priority 2: startup_active_builds
  â†“ (if active_builds exist)

Priority 3: startup_fresh_workspace
  â†“ (if no_builds but goals_done)

Priority 4: startup_system_ready
  â†“ (fallback - system ready)

COMPACT MODE (automatic during resumption):
- compact_planning (if Phase 1 incomplete)
- compact_execution (if Phase 1 complete)
```

---

## Dynamic Status Variables

All startup templates use dynamically generated variables:

- `{memory_status}` - Role or "Not configured â–¸ setup memory (8 min)"
- `{work_status}` - Active builds with progress or "Nothing yet"
- `{folders_status}` - "âœ“ Organized" or "Not organized â–¸ create folders"
- `{integrations_status}` - Count or "None"
- `{getting_started}` - Context-specific numbered suggestions (1-3 items)
- `{pending_list}` - List of incomplete onboarding items
- `{build_list}` - Active builds with status/progress
- `{current_task}` - First unchecked task from 04-steps.md

---

## Key Design Patterns

1. **MECE Principle** - Each template matches exactly one state; no overlaps
2. **Dynamic Content** - Menu items adapt to actual system state
3. **Progressive Disclosure** - Show only relevant info for current state
4. **Contextual CTAs** - Suggestions adapt to what's incomplete
5. **Session Continuity** - Compact mode jumps directly to work without menu
6. **Workspace Validation Flag** - Non-blocking warning if folder changes detected

---

## Template File Locations

All templates located in: `.claude/hooks/templates/`

- `startup_first_run.md`
- `startup_onboarding_incomplete.md`
- `startup_active_builds.md`
- `startup_fresh_workspace.md`
- `startup_system_ready.md`
- `compact_planning.md`
- `compact_execution.md`
